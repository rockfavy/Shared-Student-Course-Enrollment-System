# User Story 6 — Maintain CRUD Operations for Courses (API)

---

## Use Case: Course CRUD Operations

::: mermaid
sequenceDiagram
    participant Admin
    participant API as Minimal API
    participant CourseService
    participant DB as In-Memory DB

    Admin->>API: GET /courses
    API->>CourseService: GetCoursesAsync()
    CourseService->>DB: Query all courses
    DB->>CourseService: Return courses
    CourseService->>API: Return courses
    API->>Admin: Return courses JSON

    Admin->>API: POST /courses
    API->>CourseService: CreateCourseAsync(request)
    CourseService->>DB: Create course
    DB->>CourseService: Return course
    CourseService->>API: Return course
    API->>Admin: Return created course

    Admin->>API: PUT /courses/{id}
    API->>CourseService: UpdateCourseAsync(id, request)
    CourseService->>DB: Update course
    DB->>CourseService: Return updated course
    CourseService->>API: Return course
    API->>Admin: Return updated course

    Admin->>API: DELETE /courses/{id}
    API->>CourseService: DeleteCourseAsync(id)
    CourseService->>DB: Delete course
    DB->>CourseService: Return success
    CourseService->>API: Return success
    API->>Admin: Return confirmation
:::

**User Story:** As a system, I must support Create, Read, Update, and Delete operations for course data so that the application fulfills its functional requirements.

**Actors:** System, Admin (optional)

**Description / Goal:**  
System provides full CRUD operations for course management through API endpoints. This enables course data to be created, retrieved, updated, and deleted.

**Preconditions:** API is running and database is initialized.

**Main Flow:**  
1. **Create:** POST /courses with course data → System creates course → Returns created course  
2. **Read:** GET /courses → System returns all courses  
3. **Read:** GET /courses/{id} → System returns specific course  
4. **Update:** PUT /courses/{id} with updated data → System updates course → Returns updated course  
5. **Delete:** DELETE /courses/{id} → System deletes course → Returns confirmation  

**Alternate Flows / Exceptions:**  
- Invalid course data → system returns validation errors  
- Course not found → system returns 404 Not Found  
- Database error → system returns 500 Internal Server Error  

**Postconditions:**  
- Course data managed through API  
- CRUD operations available for courses  

---

Detailed implementation tasks are documented in the [task catalogue](./2.1.6.1-Tasks-Maintain-CRUD-Operations.md).

---

