# User Story 7 — Establish Application Architecture

---

## Use Case: Application Architecture Setup

::: mermaid
flowchart TD
    A[Solution Structure] --> B[Frontend Project]
    A --> C[API Project]
    A --> D[Shared Project]
    
    B --> E[Components]
    B --> F[Clients]
    B --> G[Services]
    
    C --> H[Features]
    C --> I[Data]
    C --> J[Shared]
    
    H --> K[Auth]
    H --> L[Courses]
    H --> M[Enrollments]
    
    D --> N[Models]
    D --> O[DTOs]
:::

**User Story:** As a developer, I must establish a clean architecture for the Blazor WASM app so that the system is maintainable and testable.

**Actors:** Developer, System

**Description / Goal:**  
Establish a feature-based architecture with clear separation between frontend (Blazor WASM), backend (Minimal API), and shared code. Configure dependency injection, HTTP clients, routing, and project structure following Lesson 10.02 patterns.

**Preconditions:** Development environment set up with .NET 8 SDK.

**Main Flow:**  
1. Define solution folder structure (Frontend, API, Shared)  
2. Configure HttpClient for API calls with base address  
3. Configure dependency injection in Blazor WASM  
4. Setup routing, shared components, layout pages  
5. Create Minimal API endpoints in API project  
6. Configure database context with in-memory provider  
7. Document the design approach  

**Alternate Flows / Exceptions:**  
- Configuration errors → system displays setup errors  
- Missing dependencies → system prompts to restore packages  

**Postconditions:**  
- Clean architecture established  
- Projects properly structured  
- Dependency injection configured  
- API endpoints accessible  
- System ready for feature development  

---

Detailed implementation tasks are documented in the [task catalogue](./2.1.7.1-Tasks-Establish-Architecture.md).

---

