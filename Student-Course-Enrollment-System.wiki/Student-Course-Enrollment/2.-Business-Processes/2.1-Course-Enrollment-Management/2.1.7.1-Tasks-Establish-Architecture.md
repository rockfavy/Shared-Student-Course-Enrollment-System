# Establish Application Architecture â€“ Task Catalogue
---

## Task 1: Define solution folder structure (Frontend, API, Shared)

**Description:**  
- **Front-End:** Create solution with `StudentCourseEnrollment.Frontend`, `StudentCourseEnrollment.Api`, `StudentCourseEnrollment.Shared` projects. Organize folders: Components, Clients, Services, Models.  
- **Back-End:** Create API project with Features folder structure. Organize by feature: Auth, Courses, Enrollments.  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class SolutionStructure {
        +StudentCourseEnrollment.Frontend
        +StudentCourseEnrollment.Api
        +StudentCourseEnrollment.Shared
    }
    
    class FrontendProject {
        +Components/
        +Clients/
        +Services/
        +Models/
    }
    
    class ApiProject {
        +Features/
        +Data/
        +Shared/
    }
    
    SolutionStructure --> FrontendProject
    SolutionStructure --> ApiProject
:::

---

## Task 2: Configure HttpClient for API calls

**Description:**  
- **Front-End:** Register `HttpClient` in `Program.cs` with base address from configuration. Configure `AuthorizationHandler` for adding auth tokens. Register typed clients (`CoursesClient`, `EnrollmentsClient`, `AuthClient`).  
- **Back-End:** N/A  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class Program {
        +ConfigureServices(IServiceCollection)
        +ConfigureHttpClients()
    }
    
    class HttpClientFactory {
        +CreateClient(string name) HttpClient
    }
    
    class AuthorizationHandler {
        +SendAsync(HttpRequestMessage) Task~HttpResponseMessage~
    }
    
    Program --> HttpClientFactory
    HttpClientFactory --> AuthorizationHandler
:::

---

## Task 3: Configure dependency injection in Blazor WASM

**Description:**  
- **Front-End:** Register services in `Program.cs`: `CoursesClient`, `EnrollmentsClient`, `AuthClient`, `AuthenticationStateProvider`. Configure scoped services for component-level injection.  
- **Back-End:** N/A  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class Program {
        +ConfigureServices(IServiceCollection services)
    }
    
    class ServiceCollection {
        +AddScoped~T~()
        +AddSingleton~T~()
        +AddTransient~T~()
    }
    
    Program --> ServiceCollection
:::

---

## Task 4: Document the design approach

**Description:**  
- **Front-End:** N/A  
- **Back-End:** N/A  
- **Database:** N/A  
- **Infrastructure:** Create architecture documentation. Document design decisions, patterns used, and rationale.

### Class Diagram

::: mermaid
classDiagram
    class Documentation {
        +ArchitectureOverview
        +DesignDecisions
        +PatternsUsed
    }
:::

---

## Task 5: Setup routing, shared components, layout pages

**Description:**  
- **Front-End:** Configure `Router` in `App.razor`. Create `MainLayout.razor` and `NavMenu.razor`. Set up route templates with `@page` directives. Create shared components folder.  
- **Back-End:** N/A  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class App {
        +Router Router
        +CascadingAuthenticationState AuthState
    }
    
    class MainLayout {
        +NavMenu NavMenu
        +RenderBody()
    }
    
    class NavMenu {
        +List~NavItem~ NavItems
    }
    
    App --> MainLayout
    MainLayout --> NavMenu
:::

---

## Task 6: Create Minimal API endpoints in API project

**Description:**  
- **Front-End:** N/A  
- **Back-End:** Create `Program.cs` with Minimal API setup. Configure endpoints using extension methods (`MapAuthEndpoints()`, `MapCourseEndpoints()`, `MapEnrollmentEndpoints()`). Add CORS, authentication, and error handling middleware.  
- **Database:** Configure `EnrollmentContext` with in-memory database.  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class Program {
        +Main(string[] args)
        +CreateBuilder() WebApplicationBuilder
        +ConfigureServices(IServiceCollection)
        +ConfigureMiddleware(WebApplication app)
    }
    
    class WebApplication {
        +MapEndpoints()
        +UseMiddleware()
    }
    
    Program --> WebApplication
:::

---

