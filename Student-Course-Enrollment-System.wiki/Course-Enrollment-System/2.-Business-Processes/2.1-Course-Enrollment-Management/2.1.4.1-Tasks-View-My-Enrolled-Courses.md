# View My Enrolled Courses â€“ Task Catalogue
---

## Task 1: Create API endpoint to return a student's enrolled courses

**Description:**  
- **Front-End:** N/A  
- **Back-End:** Create `GET /enrollments/me` endpoint in `EnrollmentEndpoints.cs`. Extract student ID from authentication claims. Query enrollments with course details using Include(). Return list of enrollments with course information.  
- **Database:** Query `Enrollments` table filtered by `StudentId`. Include `Course` navigation property.  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class EnrollmentEndpoints {
        +MapEnrollmentEndpoints(WebApplication app)
        +GetMyEnrollmentsEndpoint(HttpContext, EnrollmentService) Task~IResult~
    }
    
    class EnrollmentService {
        +GetStudentEnrollmentsAsync(Guid studentId) Task~List~EnrollmentWithCourse~~
    }
    
    EnrollmentEndpoints --> EnrollmentService
    EnrollmentService --> EnrollmentContext
:::

### Entity Diagram

::: mermaid
erDiagram
    Student ||--o{ Enrollment : "has"
    Enrollment }o--|| Course : "enrolls in"
    
    Student {
        Guid Id PK
    }
    
    Enrollment {
        Guid Id PK
        Guid StudentId FK
        Guid CourseId FK
        DateTime EnrolledAt
    }
    
    Course {
        Guid Id PK
        string Name
        string Description
    }
:::

---

## Task 2: Build page in Blazor WASM to display them

**Description:**  
- **Front-End:** Create `MyEnrollmentsPage.razor` component. Implement `OnInitializedAsync()` to load enrollments. Display enrollments in a list or table format. Show course name, description, and enrollment date.  
- **Back-End:** N/A  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class MyEnrollmentsPage {
        +List~EnrollmentWithCourse~ Enrollments
        +bool IsLoading
        +OnInitializedAsync() Task
        +DeregisterAsync(Guid enrollmentId) Task
    }
    
    MyEnrollmentsPage --> EnrollmentsClient
:::

---

## Task 3: Ensure only authenticated student can view their courses

**Description:**  
- **Front-End:** Add `[Authorize]` attribute to `MyEnrollmentsPage`. Use `AuthorizeView` to conditionally render content. Redirect to login if not authenticated.  
- **Back-End:** Add authorization check in `GET /enrollments/me` endpoint. Verify student ID from claims matches requested student.  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class MyEnrollmentsPage {
        +[Authorize] attribute
        +Render()
    }
    
    class AuthorizeView {
        +RenderAuthorized()
        +RenderNotAuthorized()
    }
    
    class EnrollmentEndpoints {
        +GetMyEnrollmentsEndpoint(HttpContext) Task~IResult~
        +RequireAuthorization()
    }
    
    MyEnrollmentsPage --> AuthorizeView
    EnrollmentEndpoints --> AuthorizationMiddleware
:::

---

## Task 4: Implement course detail display (optional)

**Description:**  
- **Front-End:** Add expandable section or modal to show full course details. Display course description, capacity, and other metadata.  
- **Back-End:** N/A  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class EnrollmentCard {
        +EnrollmentWithCourse Enrollment
        +bool ShowDetails
        +ToggleDetails()
    }
    
    EnrollmentCard --> Course
:::

---

## Task 5: Handle empty results (no enrollments)

**Description:**  
- **Front-End:** Display friendly message when student has no enrollments. Show "You haven't enrolled in any courses yet" message. Add link to browse courses.  
- **Back-End:** Return empty list when no enrollments found.  
- **Database:** N/A  
- **Infrastructure:** N/A

### Class Diagram

::: mermaid
classDiagram
    class MyEnrollmentsPage {
        +List~EnrollmentWithCourse~ Enrollments
        +bool HasEnrollments
        +RenderEmptyState()
    }
:::

---




