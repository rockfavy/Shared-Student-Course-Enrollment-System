# Student Course Enrollment System – Flows Documentation
---

# 1. Overview

Functional flows for user interactions with the Student Course Enrollment System. Outlines the sequence of steps for each enrollment process—Authentication, Course Management, and Enrollment Management—based on the system requirements.

Each workflow is visually represented using Mermaid diagrams in the Azure DevOps–compatible format.

---

# 2. Authentication Flows

---

## 2.1 Student Registration Flow

### Diagram
::: mermaid
flowchart TD
    A["Student opens Registration page"] --> B["System loads registration form"]
    B --> C["Student submits form"]
    C --> D["API validates fields (email, password, name)"]
    D --> E{"Email already exists?"}
    E -->|Yes| F["Return validation error"]
    E -->|No| G["Hash password"]
    G --> H["Create student record in database"]
    H --> I["Generate authentication token"]
    I --> J["Return token to frontend"]
    J --> K["Redirect to courses page"]
:::

### Steps
1. Student navigates to **Registration** page  
2. System loads the registration form  
3. Student submits form with email, password, name  
4. API validates all fields  
5. Check if email already exists  
6. Hash password  
7. Student record created in database  
8. Authentication token generated  
9. Token returned to frontend  
10. Student redirected to courses  

---

## 2.2 Student Login Flow

### Diagram
::: mermaid
flowchart TD
    A["Student opens Login page"] --> B["System loads login form"]
    B --> C["Student submits credentials"]
    C --> D["API validates email and password"]
    D --> E{"Credentials valid?"}
    E -->|No| F["Return authentication error"]
    E -->|Yes| G["Generate authentication token"]
    G --> H["Return token to frontend"]
    H --> I["Redirect to home page"]
:::

### Steps  
- Student navigates to Login page  
- System loads login form  
- Student submits email and password  
- API validates credentials against database  
- If invalid, return error  
- If valid, generate authentication token  
- Return token to frontend  
- Student redirected to home page  

---

# 3. Course Management Flows

---

## 3.1 Browse Available Courses Flow

### Diagram
::: mermaid
flowchart TD
    A["Student navigates to Courses"] --> B["Frontend calls GET /courses"]
    B --> C["API queries database for courses"]
    C --> D["Return courses list"]
    D --> E["Frontend displays courses"]
:::

### Steps
1. Student navigates to Courses page  
2. Frontend calls API endpoint GET /courses  
3. API queries database for all courses  
4. API returns courses list  
5. Frontend displays courses to student  

---

## 3.2 View Course Details Flow

### Diagram
::: mermaid
flowchart TD
    A["Student clicks course"] --> B["Frontend calls GET /courses/{id}"]
    B --> C["API queries database for course"]
    C --> D{"Course exists?"}
    D -->|No| E["Return 404 error"]
    D -->|Yes| F["Return course details"]
    F --> G["Frontend displays course details"]
:::

---

# 4. Enrollment Management Flows

---

## 4.1 Enroll in Course Flow

### Diagram
::: mermaid
flowchart TD
    A["Student clicks Enroll"] --> B["Frontend calls POST /enrollments"]
    B --> C["API validates authentication"]
    C --> D{"Authenticated?"}
    D -->|No| E["Return 401 Unauthorized"]
    D -->|Yes| F["Check if already enrolled"]
    F --> G{"Already enrolled?"}
    G -->|Yes| H["Return validation error"]
    G -->|No| I["Create enrollment record"]
    I --> J["Return success response"]
    J --> K["Frontend shows confirmation"]
:::

### Steps
1. Student clicks "Enroll" button on course  
2. Frontend calls POST /enrollments with course ID  
3. API validates student authentication  
4. Check if student already enrolled in course  
5. If already enrolled, return error  
6. If not enrolled, create enrollment record  
7. Return success response  
8. Frontend displays confirmation message  

---

## 4.2 View My Enrollments Flow

### Diagram
::: mermaid
flowchart TD
    A["Student navigates to My Enrollments"] --> B["Frontend calls GET /enrollments/me"]
    B --> C["API validates authentication"]
    C --> D{"Authenticated?"}
    D -->|No| E["Return 401 Unauthorized"]
    D -->|Yes| F["Query enrollments for student"]
    F --> G["Return enrollments with course details"]
    G --> H["Frontend displays enrollments"]
:::

### Steps
1. Student navigates to My Enrollments page  
2. Frontend calls GET /enrollments/me  
3. API validates student authentication  
4. Query database for student's enrollments  
5. Include course details in response  
6. Return enrollments list  
7. Frontend displays enrolled courses  

---

## 4.3 Deregister from Course Flow

### Diagram
::: mermaid
flowchart TD
    A["Student clicks Deregister"] --> B["Frontend calls DELETE /enrollments/{id}"]
    B --> C["API validates authentication"]
    C --> D{"Authenticated?"}
    D -->|No| E["Return 401 Unauthorized"]
    D -->|Yes| F["Verify enrollment belongs to student"]
    F --> G{"Enrollment exists and belongs to student?"}
    G -->|No| H["Return 404 or 403 error"]
    G -->|Yes| I["Delete enrollment record"]
    I --> J["Return success response"]
    J --> K["Frontend refreshes enrollments list"]
:::

### Steps
1. Student clicks "Deregister" button  
2. Frontend calls DELETE /enrollments/{id}  
3. API validates student authentication  
4. Verify enrollment belongs to authenticated student  
5. If not found or not owned, return error  
6. If valid, delete enrollment record  
7. Return success response  
8. Frontend refreshes enrollments list  

---

# 5. Course CRUD Flows (If Applicable)

---

## 5.1 Create Course Flow

### Diagram
::: mermaid
flowchart TD
    A["Admin creates course"] --> B["API validates course data"]
    B --> C["Create course record"]
    C --> D["Return created course"]
:::

---

## 5.2 Update Course Flow

### Diagram
::: mermaid
flowchart TD
    A["Admin updates course"] --> B["API validates course data"]
    B --> C["Update course record"]
    C --> D["Return updated course"]
:::

---

## 5.3 Delete Course Flow

### Diagram
::: mermaid
flowchart TD
    A["Admin deletes course"] --> B["Check for existing enrollments"]
    B --> C{"Has enrollments?"}
    C -->|Yes| D["Return validation error"]
    C -->|No| E["Delete course record"]
    E --> F["Return success"]
:::

---

