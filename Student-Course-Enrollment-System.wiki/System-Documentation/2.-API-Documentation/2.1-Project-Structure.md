# Student Course Enrollment System – API Project Structure Documentation
---
# 1. Overview

Folder and component structure of the API. The Minimal API backend is organized using **vertical slice** architecture, following the pattern from Lesson 10.02.

The structure ensures clarity, maintainability, and alignment with the Course Enrollment requirements (Authentication, Courses, Enrollments).

## 1.1 Vertical Slice Architecture

The API uses **vertical slice** architecture where code is organized by business features rather than technical layers. Each feature slice contains all the code needed for that feature:

- Endpoints (API routes)
- DTOs (Request/Response models)
- Business logic (services)
- Data access (within feature context)

Features are organized under `/Features` with each feature as a self-contained slice.

---

# 2. Solution Layout

The application is organized into a Visual Studio solution containing the API project and shared components.

```text
/StudentCourseEnrollment.sln
/src
  /StudentCourseEnrollment.Api
  /StudentCourseEnrollment.Shared
/tests
  /StudentCourseEnrollment.Tests.Unit
  /StudentCourseEnrollment.Tests.Integration
```

### Description of Solution Components
- **StudentCourseEnrollment.Api** — Minimal API endpoints, feature-based organization, data access  
- **StudentCourseEnrollment.Shared** — Shared models, DTOs, utilities  
- **tests/** — all automated test projects  

---

# 3. API Project Structure

```text
/StudentCourseEnrollment.Api
  /Features
    /Auth
      AuthEndpoints.cs
      Register/
        RegisterDtos.cs
        RegisterEndpoint.cs
      Login/
        LoginDtos.cs
        LoginEndpoint.cs
    /Courses
      CoursesEndpoints.cs
      GetCourses/
        GetCoursesDtos.cs
        GetCoursesEndpoint.cs
      GetCourse/
        GetCourseDtos.cs
        GetCourseEndpoint.cs
      CreateCourse/
        CreateCourseDtos.cs
        CreateCourseEndpoint.cs
      UpdateCourse/
        UpdateCourseDtos.cs
        UpdateCourseEndpoint.cs
      DeleteCourse/
        DeleteCourseEndpoint.cs
    /Enrollments
      EnrollmentsEndpoints.cs
      Enroll/
        EnrollDtos.cs
        EnrollEndpoint.cs
      GetMyEnrollments/
        GetMyEnrollmentsDtos.cs
        GetMyEnrollmentsEndpoint.cs
      Deregister/
        DeregisterDtos.cs
        DeregisterEndpoint.cs

  /Data
    DataExtensions.cs
    EnrollmentContext.cs
    Migrations/ (if using migrations)

  /Models
    Student.cs
    Course.cs
    Enrollment.cs

  /Shared
    /Authorization
      AuthorizationExtensions.cs
      Policies.cs
      Roles.cs
    /ErrorHandling
      GlobalExceptionHandler.cs

  Program.cs
  appsettings.json
  appsettings.Development.json
```

### Key Responsibilities
- Handle HTTP requests via Minimal API endpoints  
- Organize endpoints by feature (Auth, Courses, Enrollments)  
- Perform data access via EF Core  
- Enforce authorization checks  
- Return JSON responses  

---

# 4. Feature-Based Organization

Each feature is organized consistently:

## 4.1 Authentication Feature

```text
/Features/Auth
  AuthEndpoints.cs          → Maps all auth endpoints
  Register/
    RegisterDtos.cs         → DTOs for registration
    RegisterEndpoint.cs     → Registration endpoint
  Login/
    LoginDtos.cs             → DTOs for login
    LoginEndpoint.cs         → Login endpoint
```

## 4.2 Courses Feature

```text
/Features/Courses
  CoursesEndpoints.cs       → Maps all course endpoints
  GetCourses/
    GetCoursesDtos.cs
    GetCoursesEndpoint.cs
  GetCourse/
    GetCourseDtos.cs
    GetCourseEndpoint.cs
  CreateCourse/
    CreateCourseDtos.cs
    CreateCourseEndpoint.cs
  UpdateCourse/
    UpdateCourseDtos.cs
    UpdateCourseEndpoint.cs
  DeleteCourse/
    DeleteCourseEndpoint.cs
```

## 4.3 Enrollments Feature

```text
/Features/Enrollments
  EnrollmentsEndpoints.cs   → Maps all enrollment endpoints
  Enroll/
    EnrollDtos.cs
    EnrollEndpoint.cs
  GetMyEnrollments/
    GetMyEnrollmentsDtos.cs
    GetMyEnrollmentsEndpoint.cs
  Deregister/
    DeregisterDtos.cs
    DeregisterEndpoint.cs
```

These structures reflect the Course Enrollment workflows defined in the requirements.

---

# 5. Data Layer Structure

```text
/Data
  EnrollmentContext.cs      → EF Core DbContext
  DataExtensions.cs         → Database initialization extensions
```

### Key Responsibilities
- EF Core DbContext configuration  
- In-memory database setup  
- Database initialization and seeding  

---

# 6. Shared Layer Structure

```text
/Shared
  /Authorization
    AuthorizationExtensions.cs
    Policies.cs
    Roles.cs
  /ErrorHandling
    GlobalExceptionHandler.cs
```

Contains cross-cutting concerns not specific to a feature.

---

# 7. Tests Structure

```text
/tests
  /StudentCourseEnrollment.Tests.Unit
    /Features
      /Auth
      /Courses
      /Enrollments

  /StudentCourseEnrollment.Tests.Integration
    /Endpoints
    /Database
```

### Layer Responsibilities
- **Unit Tests** → Endpoint handlers, business logic  
- **Integration Tests** → Endpoint behavior, database operations  
